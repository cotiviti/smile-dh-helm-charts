# This file defines the minimum required settings to use this Helm Chart.
image:
  imagePullSecrets:
  # This tests that global image pull secrets work
  - type: k8sSecret
    name: pmp-global-image-pull-secrets

components:
  memberPortal:
    image:
      # This tests that global image pull can be overridden with a local sscsi secrets
      imagePullSecrets:
      - type: sscsi
        provider: aws
        secretArn: arn:aws:secretsmanager:aws-region:1234567890:secret:my-memberportal-only-image-pull-secret
  memberPortalAdmin:
    image:
      # This tests that overriding global secrets *no* secret works
      imagePullSecrets: []
  pmpServices:
    image:
      imagePullSecrets:
      # This tests that global image pull can be overridden with a local sscsi secrets (Different to the memberPortal one)
      - type: sscsi
        provider: aws
        secretArn: arn:aws:secretsmanager:aws-region:1234567890:secret:my-pmpServices-image-pull-secret
    secrets:
      # This tests that component secret works when using sscsi, as well as image pull secret
      pmpServices:
        type: sscsi
        provider: aws
        secretArn: arn:aws:secretsmanager:aws-region:1234567890:secret:my-pmpServices-app-secret
        secretNameOverride: pmp-services-app-secret
