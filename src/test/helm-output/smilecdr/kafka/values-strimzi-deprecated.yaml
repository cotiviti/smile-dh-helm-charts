# This values files enables provisioning Kafka using the Strimzi operator

# This commented section illustrates the updated schema. Handy to uncomment this block and
# comment the one below to allow testing between old and new schemas.
# messageBroker:
#   strimzi:
#     enabled: true
#     kafka:
#       version: "3.5.1"
#       replicas: 3
#       volumeSize: 20Gi
#       resources:
#         requests:
#           cpu: 500m
#           memory: 2Gi
#         limits:
#           memory: 4Gi
#     zookeeper:
#       replicas: 3
#       volumeSize: 10Gi
#       resources:
#         requests:
#           cpu: 250m
#           memory: 512Mi
#         limits:
#           memory: 1024Mi

# The below config is the same as the above, but using the updated schema.
messageBroker:
  strimzi:
    enabled: true
    config:
      version: "3.5.1"
      kafka:
        replicas: 3
        volumeSize: 20Gi
        resources:
          requests:
            cpu: 500m
            memory: 2Gi
          limits:
            memory: 4Gi
      zookeeper:
        replicas: 3
        volumeSize: 10Gi
        resources:
          requests:
            cpu: 250m
            memory: 512Mi
          limits:
            memory: 1024Mi

  # Uncomment to allow Smile CDR to create topics. Topics below will be ignored in this case.
  # manageTopics: false
  topics:
    # Need to update topic names due to cdr node naming issue
    # Default Smile CDR Topics
    batch2:
      name: "batch2.work.notification.masterdev.persistence"
    subscription:
      name: "subscription.matching.masterdev.persistence"
    # Extra Kafka Topics
    extra-topic-1:
      name: "my-extra-topic"
    extra-topic-2:
      name: "my-second-extra-topic"
      partitions: 5
