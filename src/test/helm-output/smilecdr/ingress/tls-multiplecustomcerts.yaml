# Basic TLS configuration using default issuers and certificate
# * Self signed Root CA Issuer
# * Cluster local Cluster-Local CA Issuer (Signed by Root CA Issuer)
# * Default Certificate for Smile CDR, signed by cluster-local issuer
# * All endpoints configured for TLS except fhirweb which uses HTTP
# * Ingress backends using HTTPS

tls:
  certificateIssuers:
    default:
      enabled: true

  certificates:
    default:
      enabled: false
    cdrCertificate:
      enabled: true
      defaultCertificate: true
      wildcardLevel: namespace
      localhostEnabled: true
    fhirWebCertificate:
      enabled: true
      hostnameOverride: myoverriddenhost.mycompany.com
      keystorePassword:
        valueOverride: custompass
      extraHostnames:
      - extrahost1.extrahostname.com
      - extrahost2.extrahostname.com

  # Enable TLS on all HTTP endpoint modules in Smile CDR
  defaultEndpointConfig:
    enabled: true

# Override TLS config on fhirweb endpoint
modules:
  fhirweb_endpoint:
    service:
      # null, or `default`, or one of the tls.certificates.* entries.
      tlsCertificate: fhirWebCertificate
