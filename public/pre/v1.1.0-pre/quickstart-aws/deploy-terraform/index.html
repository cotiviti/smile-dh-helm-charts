
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://smilecdr-public.gitlab.io/smile-dh-helm-charts/v1.1.0-pre/quickstart-aws/deploy-terraform/">
      
      
        <link rel="prev" href="../aws-resources/">
      
      
        <link rel="next" href="../../guide/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.31">
    
    
      
        <title>Deploy Smile CDR with Terraform - Smile Digital Health Helm Charts</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.3cba04c6.min.css">
      
      
  
  
    
    
  
  
  <style>:root{--md-admonition-icon--note:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M1 7.775V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 0 1 0 2.474l-5.026 5.026a1.75 1.75 0 0 1-2.474 0l-6.25-6.25A1.752 1.752 0 0 1 1 7.775Zm1.5 0c0 .066.026.13.073.177l6.25 6.25a.25.25 0 0 0 .354 0l5.025-5.025a.25.25 0 0 0 0-.354l-6.25-6.25a.25.25 0 0 0-.177-.073H2.75a.25.25 0 0 0-.25.25ZM6 5a1 1 0 1 1 0 2 1 1 0 0 1 0-2Z"/></svg>');}</style>



    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.css">
    
      <link rel="stylesheet" href="../../stylesheets/colours.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#deploy-smile-cdr-with-terraform" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Smile Digital Health Helm Charts" class="md-header__button md-logo" aria-label="Smile Digital Health Helm Charts" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Smile Digital Health Helm Charts
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Deploy Smile CDR with Terraform
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://gitlab.com/smilecdr-public/smile-dh-helm-charts" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="m503.5 204.6-.7-1.8-69.7-181.78c-1.4-3.57-3.9-6.59-7.2-8.64-2.4-1.55-5.1-2.515-8-2.81-2.9-.295-5.7.083-8.4 1.11-2.7 1.02-5.1 2.66-7.1 4.78-1.9 2.12-3.3 4.67-4.1 7.44l-47 144H160.8l-47.1-144c-.8-2.77-2.2-5.31-4.1-7.43-2-2.12-4.4-3.75-7.1-4.77a18.1 18.1 0 0 0-8.38-1.113 18.4 18.4 0 0 0-8.04 2.793 18.09 18.09 0 0 0-7.16 8.64L9.267 202.8l-.724 1.8a129.57 129.57 0 0 0-3.52 82c7.747 26.9 24.047 50.7 46.447 67.6l.27.2.59.4 105.97 79.5 52.6 39.7 32 24.2c3.7 1.9 8.3 4.3 13 4.3 4.7 0 9.3-2.4 13-4.3l32-24.2 52.6-39.7 106.7-79.9.3-.3c22.4-16.9 38.7-40.6 45.6-67.5 8.6-27 7.4-55.8-2.6-82z"/></svg>
  </div>
  <div class="md-source__repository">
    smile-dh-helm-charts
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../.." class="md-tabs__link">
          
  
    
  
  Home

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../" class="md-tabs__link">
          
  
    
  
  Quickstart

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../guide/" class="md-tabs__link">
          
  
    
  
  User Guide

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../examples/" class="md-tabs__link">
          
  
    
  
  Examples

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Smile Digital Health Helm Charts" class="md-nav__button md-logo" aria-label="Smile Digital Health Helm Charts" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Smile Digital Health Helm Charts
  </label>
  
    <div class="md-nav__source">
      <a href="https://gitlab.com/smilecdr-public/smile-dh-helm-charts" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="m503.5 204.6-.7-1.8-69.7-181.78c-1.4-3.57-3.9-6.59-7.2-8.64-2.4-1.55-5.1-2.515-8-2.81-2.9-.295-5.7.083-8.4 1.11-2.7 1.02-5.1 2.66-7.1 4.78-1.9 2.12-3.3 4.67-4.1 7.44l-47 144H160.8l-47.1-144c-.8-2.77-2.2-5.31-4.1-7.43-2-2.12-4.4-3.75-7.1-4.77a18.1 18.1 0 0 0-8.38-1.113 18.4 18.4 0 0 0-8.04 2.793 18.09 18.09 0 0 0-7.16 8.64L9.267 202.8l-.724 1.8a129.57 129.57 0 0 0-3.52 82c7.747 26.9 24.047 50.7 46.447 67.6l.27.2.59.4 105.97 79.5 52.6 39.7 32 24.2c3.7 1.9 8.3 4.3 13 4.3 4.7 0 9.3-2.4 13-4.3l32-24.2 52.6-39.7 106.7-79.9.3-.3c22.4-16.9 38.7-40.6 45.6-67.5 8.6-27 7.4-55.8-2.6-82z"/></svg>
  </div>
  <div class="md-source__repository">
    smile-dh-helm-charts
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_1" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../.." class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Home
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_1" id="__nav_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            Home
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_1_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../charts/smilecdr/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Smile CDR
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_1_2" id="__nav_1_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_2">
            <span class="md-nav__icon md-icon"></span>
            Smile CDR
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../charts/smilecdr/smilecdr/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../charts/smilecdr/CHANGELOG-PRE/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Changelog
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Quickstart
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Quickstart
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../eks-cluster/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Prepare EKS Cluster
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../aws-resources/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Prepare AWS Resources
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Deploy Smile CDR with Terraform
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Deploy Smile CDR with Terraform
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#how-it-works" class="md-nav__link">
    <span class="md-ellipsis">
      How It Works
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pre-requisites" class="md-nav__link">
    <span class="md-ellipsis">
      Pre-requisites
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Pre-requisites">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#container-repository" class="md-nav__link">
    <span class="md-ellipsis">
      Container Repository
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dns-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      DNS configuration
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#minimal-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Minimal Configuration
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Minimal Configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#required-values" class="md-nav__link">
    <span class="md-ellipsis">
      Required Values
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#default-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Default Configuration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#provider-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Provider Configuration
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#advanced-configurations" class="md-nav__link">
    <span class="md-ellipsis">
      Advanced Configurations
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Advanced Configurations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#helm-values-files" class="md-nav__link">
    <span class="md-ellipsis">
      Helm Values Files
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#terraform-module-helpers" class="md-nav__link">
    <span class="md-ellipsis">
      Terraform Module Helpers
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#further-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Further Configuration
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#terraform-quickstart-project" class="md-nav__link">
    <span class="md-ellipsis">
      Terraform 'Quickstart' Project
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Terraform 'Quickstart' Project">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#download-terraform-quickstart-project" class="md-nav__link">
    <span class="md-ellipsis">
      Download Terraform Quickstart Project
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configure-the-project-for-your-environment" class="md-nav__link">
    <span class="md-ellipsis">
      Configure the project for your environment
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#prepare-terraform-project" class="md-nav__link">
    <span class="md-ellipsis">
      Prepare Terraform Project
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deploy-smile-cdr" class="md-nav__link">
    <span class="md-ellipsis">
      Deploy Smile CDR
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verify-helm-deployment" class="md-nav__link">
    <span class="md-ellipsis">
      Verify Helm Deployment
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#destroy-environment" class="md-nav__link">
    <span class="md-ellipsis">
      Destroy Environment
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../guide/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    User Guide
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            User Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    General
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            General
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guide/helm-repo/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Helm Repository Setup
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guide/secrets/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Secrets Handling
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guide/serviceaccount/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Service Accounts
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guide/values-files-management/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Values Files
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../guide/smilecdr/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Smile CDR
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            Smile CDR
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guide/smilecdr/requirements/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Requirements
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guide/smilecdr/cdrversions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Versions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guide/smilecdr/install/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Installation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_3_5" >
        
          
          <label class="md-nav__link" for="__nav_3_3_5" id="__nav_3_3_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Configuration
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_3_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3_5">
            <span class="md-nav__icon md-icon"></span>
            Configuration
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guide/smilecdr/modules/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Modules
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guide/smilecdr/database/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Database
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guide/smilecdr/ingress/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ingress
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guide/smilecdr/tls-encryption/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TLS Encryption
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guide/smilecdr/cdrnode/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cluster Configuration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guide/smilecdr/files/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Including Extra Files
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guide/smilecdr/cdr-license/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    License Module
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guide/smilecdr/messagebroker/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Message Broker
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guide/smilecdr/hl7v2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HL7V2 Endpoint Module
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guide/smilecdr/resources/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Resource Tuning
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guide/smilecdr/envvars/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Environment Variables
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guide/smilecdr/logging/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Logging
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guide/smilecdr/podscheduling/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pod Scheduling
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guide/smilecdr/updating/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Applying Changes
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../examples/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Examples
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4" id="__nav_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Examples
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/minimal/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Minimal Config
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/external-db/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Single External Database
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/external-db-multi/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Multiple External Databases
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/modules-simple/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Simple Module Configuration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/modules-advanced/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Advanced Module Configuration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/extra-files-helm/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Adding Files using Helm
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/extra-files-external/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Adding Files using External
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/previousrootversion/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Use Previous Versions of Smile CDR
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/aws-dependencies/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configure AWS Dependencies
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/quickstart/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Quickstart
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#how-it-works" class="md-nav__link">
    <span class="md-ellipsis">
      How It Works
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pre-requisites" class="md-nav__link">
    <span class="md-ellipsis">
      Pre-requisites
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Pre-requisites">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#container-repository" class="md-nav__link">
    <span class="md-ellipsis">
      Container Repository
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dns-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      DNS configuration
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#minimal-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Minimal Configuration
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Minimal Configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#required-values" class="md-nav__link">
    <span class="md-ellipsis">
      Required Values
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#default-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Default Configuration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#provider-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Provider Configuration
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#advanced-configurations" class="md-nav__link">
    <span class="md-ellipsis">
      Advanced Configurations
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Advanced Configurations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#helm-values-files" class="md-nav__link">
    <span class="md-ellipsis">
      Helm Values Files
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#terraform-module-helpers" class="md-nav__link">
    <span class="md-ellipsis">
      Terraform Module Helpers
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#further-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Further Configuration
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#terraform-quickstart-project" class="md-nav__link">
    <span class="md-ellipsis">
      Terraform 'Quickstart' Project
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Terraform 'Quickstart' Project">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#download-terraform-quickstart-project" class="md-nav__link">
    <span class="md-ellipsis">
      Download Terraform Quickstart Project
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configure-the-project-for-your-environment" class="md-nav__link">
    <span class="md-ellipsis">
      Configure the project for your environment
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#prepare-terraform-project" class="md-nav__link">
    <span class="md-ellipsis">
      Prepare Terraform Project
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deploy-smile-cdr" class="md-nav__link">
    <span class="md-ellipsis">
      Deploy Smile CDR
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verify-helm-deployment" class="md-nav__link">
    <span class="md-ellipsis">
      Verify Helm Deployment
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#destroy-environment" class="md-nav__link">
    <span class="md-ellipsis">
      Destroy Environment
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="deploy-smile-cdr-with-terraform">Deploy Smile CDR with Terraform<a class="headerlink" href="#deploy-smile-cdr-with-terraform" title="Permanent link">&para;</a></h1>
<p>Although it's possible to deploy Smile CDR using the Helm Chart, it is advisable to use the provided Terraform module as this will install the required dependencies for you.</p>
<h2 id="how-it-works">How It Works<a class="headerlink" href="#how-it-works" title="Permanent link">&para;</a></h2>
<p>To ease configuration of complex environments, the Smile CDR Dependencies Terraform Module will configure the following, non-Kubernetes dependencies.</p>
<ul>
<li>RDS database (Optional)<ul>
<li>Creates separate users &amp; databases for each module</li>
<li>Creates DB connection credentials in AWS Secrets Manager, with secure password handling</li>
<li>Configure users to use IAM authentication (Optional)</li>
<li>Provides Helm Chart configuration values for the above</li>
</ul>
</li>
<li>Create S3 bucket suitable for staging copied files (Optional)</li>
<li>Smile CDR IAM role with least-privilege policies for the above resources</li>
<li>Configures IRSA and Helm Chart configuration values</li>
<li>AWS Secrets Manager secret for image repository (Optional)</li>
<li>Creates Route53 DNS entry (optional)</li>
</ul>
<p>If using the Helm Chart directly, all of the above will need to be configured beforehand. This is not in scope of this quickstart.</p>
<h2 id="pre-requisites">Pre-requisites<a class="headerlink" href="#pre-requisites" title="Permanent link">&para;</a></h2>
<p>It's important to ensure that any pre-requisites are in place before following these steps. If you have not done so already, please review the <a href="../eks-cluster/">Prepare EKS Cluster</a> and <a href="../aws-resources/">Prepare AWS Resources</a> sections.</p>
<h3 id="container-repository">Container Repository<a class="headerlink" href="#container-repository" title="Permanent link">&para;</a></h3>
<p>Review the section on <a href="../aws-resources/#private-container-registry-credentials">Private Container Registry Credentials</a> and ensure that you either:</p>
<ul>
<li>Have already created a suitable AWS Secrets Manager secret</li>
</ul>
<p>or</p>
<ul>
<li>Are preprared to edit the secret that will be created by this Terraform Module.</li>
</ul>
<blockquote>
<p><strong>Note:</strong> The Smile CDR pods will not start up unless a container repository is accessible by the cluster.</p>
</blockquote>
<h3 id="dns-configuration">DNS configuration<a class="headerlink" href="#dns-configuration" title="Permanent link">&para;</a></h3>
<p>Review the section on <a href="../aws-resources/#dns-configuration">DNS Configuration</a> and ensure that you either:</p>
<ul>
<li>Have access to add DNS entries in the Route53 Hosted Zone for your chosen parent domain</li>
</ul>
<p>or</p>
<ul>
<li>Have access to add DNS entries to whichever platform hosts your DNS entries</li>
</ul>
<blockquote>
<p><strong>Note:</strong>* Your Smile CDR instance will not be accessible until you create a DNS entry using one of the above mechanisms.</p>
</blockquote>
<h2 id="minimal-configuration">Minimal Configuration<a class="headerlink" href="#minimal-configuration" title="Permanent link">&para;</a></h2>
<p>The mimimum required configuration to install Smile CDR using the Terraform module:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>module &quot;smile_cdr_dependencies&quot; {
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>  source = &quot;git::https://gitlab.com/smilecdr-public/smile-dh-helm-charts//src/main/terraform/smile-cdr-deps?ref=terraform-module&quot;
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>  name = &quot;myDeploymentName&quot;
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>  eks_cluster_name = &quot;myClusterId&quot;
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>  # If you pre-provisoned a shared Container Registry secret, uncomment this line and add the secret&#39;s ARN
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>  # cdr_regcred_secret_arn = &quot;arn:aws:secretsmanager:&lt;region&gt;:012345678910:secret:shared/regcred/my.registry.com/username&quot;
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>  prod_mode = false
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>  ingress_config = {
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a>    public = {
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a>      parent_domain = &quot;example.com&quot;
<a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a>
<a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a>      # If you are not able to create Route53 DNS entries, then uncomment this line.
<a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a>      # You will need to create your DNS entry manually.
<a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a>      # route53_create_record = false
<a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a>    }
<a id="__codelineno-0-19" name="__codelineno-0-19" href="#__codelineno-0-19"></a>  }
<a id="__codelineno-0-20" name="__codelineno-0-20" href="#__codelineno-0-20"></a>}
</code></pre></div>
<h3 id="required-values">Required Values<a class="headerlink" href="#required-values" title="Permanent link">&para;</a></h3>
<p>The only <strong><em>required</em></strong> options are:</p>
<ul>
<li><code>name</code> - A unique identifier for this environment. This will be used for other resources, (e.g. the Kubernetes <code>namespace</code>), unless overridden elswehere.</li>
<li><code>eks_cluster_name</code> - The name of the EKS cluster that was already provisioned.</li>
<li><code>ingress_config.public.parent_domain</code> - The parent domain for the public ingress.</li>
</ul>
<h3 id="default-configuration">Default Configuration<a class="headerlink" href="#default-configuration" title="Permanent link">&para;</a></h3>
<p>Using the above code snippet, a default install of Smile CDR will be created in the EKS cluster. This will include:</p>
<ul>
<li>In-cluster Postgres database (Using CrunchyData PGO)</li>
<li>Default Smile CDR configuration</li>
<li>Single Ingress using the Nginx Ingress controller</li>
<li>Single DNS entry in existing Route 53 Hosted Zone<ul>
<li>Default HostName will be <code>&lt;name&gt;.&lt;parent_domain&gt;</code>.</li>
<li>In the example above, it would be <code>mydeploymentname.example.com</code></li>
</ul>
</li>
<li>Helm Release of Smile CDR</li>
</ul>
<h3 id="provider-configuration">Provider Configuration<a class="headerlink" href="#provider-configuration" title="Permanent link">&para;</a></h3>
<p>This module requires the following providers to be configured in your Terraform project in order to communicate with the EKS cluster:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>provider &quot;aws&quot; {
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>  region = local.region
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>}
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a>provider &quot;helm&quot; {
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a>  kubernetes {
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a>    host                   = module.smile_cdr_dependencies.eks_cluster.endpoint
<a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a>    cluster_ca_certificate = base64decode(module.smile_cdr_dependencies.eks_cluster.certificate)
<a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a>    token                  = module.smile_cdr_dependencies.eks_cluster.auth_token
<a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a>  }
<a id="__codelineno-1-12" name="__codelineno-1-12" href="#__codelineno-1-12"></a>}
<a id="__codelineno-1-13" name="__codelineno-1-13" href="#__codelineno-1-13"></a>
<a id="__codelineno-1-14" name="__codelineno-1-14" href="#__codelineno-1-14"></a>provider &quot;kubernetes&quot; {
<a id="__codelineno-1-15" name="__codelineno-1-15" href="#__codelineno-1-15"></a>  host                   = module.smile_cdr_dependencies.eks_cluster.endpoint
<a id="__codelineno-1-16" name="__codelineno-1-16" href="#__codelineno-1-16"></a>  cluster_ca_certificate = base64decode(module.smile_cdr_dependencies.eks_cluster.certificate)
<a id="__codelineno-1-17" name="__codelineno-1-17" href="#__codelineno-1-17"></a>  token                  = module.smile_cdr_dependencies.eks_cluster.auth_token
<a id="__codelineno-1-18" name="__codelineno-1-18" href="#__codelineno-1-18"></a>}
</code></pre></div>
<h2 id="advanced-configurations">Advanced Configurations<a class="headerlink" href="#advanced-configurations" title="Permanent link">&para;</a></h2>
<p>The configuration provided so far is not sufficient for a typical install of Smile CDR. A more common pattern would require more configurations to be provided.</p>
<h3 id="helm-values-files">Helm Values Files<a class="headerlink" href="#helm-values-files" title="Permanent link">&para;</a></h3>
<p>When deploying Smile CDR using the Helm Chart, configuration is performed by updating the Helm Values file. See the <a href="../guide/smilecdr/">Smile CDR Helm Chart User Guide</a> for more information on how to create and organize your Values files.</p>
<p>Once you have prepared your Values files, they can be referenced from this Terraform module using the <code>helm_chart_values</code> configuration. Multiple values files may be referenced, which can greatly help with organising configuration.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>helm_chart_values = [
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>  file(&quot;helm/smilecdr/values.yaml&quot;),
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>  file(&quot;helm/smilecdr/feature1.yaml&quot;)
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>]
</code></pre></div>
<p>You can also override values directly from the Terraform module using the <code>helm_chart_values_set_overrides</code> configuration. This is helpful when you want to pass in infrastructure dependent values, rather than having to manually edit the values file separately.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>helm_chart_values_set_overrides = {
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>  &quot;replicaCount&quot; = 1
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>}
</code></pre></div>
<h3 id="terraform-module-helpers">Terraform Module Helpers<a class="headerlink" href="#terraform-module-helpers" title="Permanent link">&para;</a></h3>
<p>This Terraform module also provides some helper configurations to simplify some configrations that would otherwise be troublesome to implement.</p>
<h4 id="mapped-files">Mapped Files<a class="headerlink" href="#mapped-files" title="Permanent link">&para;</a></h4>
<p>When using the <strong><em>Helm Chart Method</em></strong> for <a href="../../guide/smilecdr/files/">Including Extra Files</a>, you would typically pass the files as <a href="../../guide/smilecdr/files/#include-file-in-helm-deployment">commandline options</a> like so:
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>helm upgrade -i my-smile-env --devel -f my-values.yaml --set-file mappedFiles.logback\\.xml.data=logback.xml smiledh/smilecdr
</code></pre></div></p>
<p>As you are unable to manipulate the helm command when using the Terraform module, a helper configuration, <code>helm_chart_mapped_files</code>, has been provided to facilitate this functionality.</p>
<p>Include files using this method like so:
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>helm_chart_mapped_files = [
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>  {
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a>    name = &quot;file1.txt&quot;
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a>    location = &quot;classes&quot;
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a>    data = file(&quot;files/classes/file1.txt&quot;)
<a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a>  },
<a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a>  {
<a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a>    name = &quot;file2.txt&quot;
<a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a>    location = &quot;cutomerlib&quot;
<a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a>    data = file(&quot;files/cutomerlib/file2.txt&quot;)
<a id="__codelineno-5-11" name="__codelineno-5-11" href="#__codelineno-5-11"></a>  }
<a id="__codelineno-5-12" name="__codelineno-5-12" href="#__codelineno-5-12"></a>]
</code></pre></div></p>
<h3 id="further-configuration">Further Configuration<a class="headerlink" href="#further-configuration" title="Permanent link">&para;</a></h3>
<p>For further configuration options and examples, please refer to the <a href="../../terraform/smilecdrdeps/">Smile CDR Dependencies Terraform Module</a> and <a href="../guide/smilecdr/">Smile CDR Helm Chart User Guide</a> sections.</p>
<h2 id="terraform-quickstart-project">Terraform 'Quickstart' Project<a class="headerlink" href="#terraform-quickstart-project" title="Permanent link">&para;</a></h2>
<p>A Terraform project is provided in the <a href="https://gitlab.com/smilecdr-public/smile-dh-helm-charts/-/tree/pre-release/examples/terraform/workload/quickstart">examples</a> section of the <a href="https://gitlab.com/smilecdr-public/smile-dh-helm-charts">Smile CDR Helm Chart</a> repository. It brings together all of the concepts mentioned above and can be used as a starting point to deploy Smile CDR.</p>
<h3 id="download-terraform-quickstart-project">Download Terraform Quickstart Project<a class="headerlink" href="#download-terraform-quickstart-project" title="Permanent link">&para;</a></h3>
<p>In a terminal, change to a suitable folder to manage your project.
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>mkdir -p ~/my-sdh-eks/
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>cd ~/my-sdh-eks
</code></pre></div></p>
<p>Clone the Terraform Quickstart Project if you have not already done so.</p>
<blockquote>
<p><strong>Note:</strong> If you followed the <a href="../eks-cluster/">Prepare EKS Cluster</a> section, you should have already completed this step.</p>
</blockquote>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>git clone --depth 1 https://gitlab.com/smilecdr-public/smile-dh-helm-charts.git
</code></pre></div>
<p>Optionally make a copy of the project to work from
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>cp -rp smile-dh-helm-charts/examples/terraform/workload/quickstart workload
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a>cd workload
</code></pre></div></p>
<h3 id="configure-the-project-for-your-environment">Configure the project for your environment<a class="headerlink" href="#configure-the-project-for-your-environment" title="Permanent link">&para;</a></h3>
<p>Due to the pre-requisites, this project will <strong><em>NOT</em></strong> run without modification, you should update some of the Terraform <code>locals</code> to suit your environment.</p>
<p>At a minimum, you <strong><em>MUST</em></strong> should configure the following:</p>
<ul>
<li><code>cdr_regcred_secret_arn</code> - The ARN for a pre-provisioned secret for the Container Registry. If not specified, then a blank secret will be created automatically.</li>
<li><code>parent_domain</code> - Set this to the subdomain where you will create your DNS entry.</li>
<li><code>route53_create_record</code> - Set this to <code>false</code> if you are not able to create Route53 DNS entries. You will need to create your DNS record using another mechanism.</li>
</ul>
<p>You should also consider updating the following, as they are based on the default cluster that was deployed in the <a href="../eks-cluster/">Prepare EKS Cluster</a> section.</p>
<ul>
<li><code>name</code> - A unique name that will be used for your Smile CDR deployment and any supporting resources (Default is <code>MyDeploymentName</code>)</li>
<li><code>eks_cluster_name</code> - The name/id of the EKS cluster. (Default is <code>MyClusterName</code>)</li>
<li><code>region</code> - The AWS region where you wish to deploy Smile CDR. This must be the same region that you deployed the EKS cluster. (Default is <code>us-east-1</code>)</li>
</ul>
<blockquote>
<p><strong>Note:</strong> It's advisable at this point to configure your Terraform remote state. For this guide, we will continue to use local state.</p>
</blockquote>
<p>Edit the <code>main.tf</code> file. At the top of the file, you will see the following <code>locals</code> block that you should update based on the above.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>locals {
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>    name = &quot;MyDeploymentName&quot;
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a>    eks_cluster_name = &quot;MyClusterName&quot;
<a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a>    cdr_regcred_secret_arn = null
<a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a>    parent_domain = &quot;example.com&quot;
<a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a>    # If you are not able to create Route53 DNS entries, then set to false
<a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a>    # You will then need to create your DNS entry manually.
<a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a>    route53_create_record = true
<a id="__codelineno-9-9" name="__codelineno-9-9" href="#__codelineno-9-9"></a>    region=&quot;us-east-1&quot;
<a id="__codelineno-9-10" name="__codelineno-9-10" href="#__codelineno-9-10"></a>}
</code></pre></div>
<h3 id="prepare-terraform-project">Prepare Terraform Project<a class="headerlink" href="#prepare-terraform-project" title="Permanent link">&para;</a></h3>
<p>Make sure that you have valid AWS credentials loaded and that you are able to authenticate against the AWS API.</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>aws sts get-caller-identity
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a>{
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a>    &quot;UserId&quot;: &quot;AROAXAABBCCDDEEFFGG&quot;,
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a>    &quot;Account&quot;: &quot;012345678910&quot;,
<a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a>    &quot;Arn&quot;: &quot;arn:aws:sts::012345678910:role/MyAdminRole&quot;
<a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a>}
</code></pre></div>
Double check that you are using the correct AWS account and have a suitable IAM role/user that has Administrative privileges.</p>
<p>Initialize the Terraform Project
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a>terraform init
</code></pre></div></p>
<p>After all of the Terraform modules have been installed, you should see the following message:
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a>Terraform has been successfully initialized!
</code></pre></div></p>
<h3 id="deploy-smile-cdr">Deploy Smile CDR<a class="headerlink" href="#deploy-smile-cdr" title="Permanent link">&para;</a></h3>
<p>Now you can plan, review and apply the Terraform project to create the Smile CDR environment and the required components.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a>terraform plan
</code></pre></div>
<p>Review the output to see what resources will be created.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a>terraform apply
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a>
<a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a>Plan: 9 to add, 0 to change, 0 to destroy.
<a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a>
<a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a>Do you want to perform these actions?
<a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a>  Terraform will perform the actions described above.
<a id="__codelineno-14-7" name="__codelineno-14-7" href="#__codelineno-14-7"></a>  Only &#39;yes&#39; will be accepted to approve.
<a id="__codelineno-14-8" name="__codelineno-14-8" href="#__codelineno-14-8"></a>
<a id="__codelineno-14-9" name="__codelineno-14-9" href="#__codelineno-14-9"></a>  Enter a value: yes
</code></pre></div>
<blockquote>
<p><strong>NOTE:</strong> If you did not provide an existing Container Registry credentials secret, you will need to manually update the secret that was created in AWS Secrets Manager after running <code>terraform apply</code>. If you do not do this, then the <code>apply</code> operation will not complete, as the Smile CDR pods will not come up until the credentials are available.</p>
</blockquote>
<p>Once completed, you should see output as follows:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a>Apply complete! Resources: 9 added, 0 changed, 0 destroyed.
<a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a>
<a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a>Outputs:
<a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a>
<a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a>helm_release_notes = &lt;&lt;EOT
<a id="__codelineno-15-6" name="__codelineno-15-6" href="#__codelineno-15-6"></a>
<a id="__codelineno-15-7" name="__codelineno-15-7" href="#__codelineno-15-7"></a>***************************
<a id="__codelineno-15-8" name="__codelineno-15-8" href="#__codelineno-15-8"></a>**** NO CHART WARNINGS ****
<a id="__codelineno-15-9" name="__codelineno-15-9" href="#__codelineno-15-9"></a>***************************
<a id="__codelineno-15-10" name="__codelineno-15-10" href="#__codelineno-15-10"></a>
<a id="__codelineno-15-11" name="__codelineno-15-11" href="#__codelineno-15-11"></a>Thank you for installing Smile CDR by Smile Digital Health!
<a id="__codelineno-15-12" name="__codelineno-15-12" href="#__codelineno-15-12"></a>
<a id="__codelineno-15-13" name="__codelineno-15-13" href="#__codelineno-15-13"></a>                              ,.,;pppppQQQQQQQQppppppppppppp;,..
<a id="__codelineno-15-14" name="__codelineno-15-14" href="#__codelineno-15-14"></a>                      .s#################################SlSSS#######pp,
<a id="__codelineno-15-15" name="__codelineno-15-15" href="#__codelineno-15-15"></a>                 ;s######################################SlSSSSSSSS#######Np.
<a id="__codelineno-15-16" name="__codelineno-15-16" href="#__codelineno-15-16"></a>              ;###Sl#####################################SlSSSSSSSS###########p.
<a id="__codelineno-15-17" name="__codelineno-15-17" href="#__codelineno-15-17"></a>            ;#SGSSSl#####################################SlSSSSSSSS#############Qp
<a id="__codelineno-15-18" name="__codelineno-15-18" href="#__codelineno-15-18"></a>          .SGGGGSSSl#####################################SlSSSSSSSS###############p
<a id="__codelineno-15-19" name="__codelineno-15-19" href="#__codelineno-15-19"></a>         .lGGGGGSSSl#####################################SlSSSSSSSS###############bp
<a id="__codelineno-15-20" name="__codelineno-15-20" href="#__codelineno-15-20"></a>         lSGGGGGSSSl#####################################SlSSSSSSSS###############bG
<a id="__codelineno-15-21" name="__codelineno-15-21" href="#__codelineno-15-21"></a>         lGGGGGGSSSl#####################################SlSSSSSSSS###############bC
<a id="__codelineno-15-22" name="__codelineno-15-22" href="#__codelineno-15-22"></a>         lGGGGSSS###########################################SSSSSSS###############bC
<a id="__codelineno-15-23" name="__codelineno-15-23" href="#__codelineno-15-23"></a>        :GGSG#Tb&quot;&quot;^&quot;&quot;&quot;T88#####$8$$8888888##############$TTG$S#SSSSS#######$TT8@###b
<a id="__codelineno-15-24" name="__codelineno-15-24" href="#__codelineno-15-24"></a>        ISGb^             ?@#               ^&quot;6@######p    !@#SSSSS#####b     @###b
<a id="__codelineno-15-25" name="__codelineno-15-25" href="#__codelineno-15-25"></a>        $G      .;ppp;,.  ;#b     ,,,,,,,.      &#39;8@###b    !$#SSSSS#####b     @###b
<a id="__codelineno-15-26" name="__codelineno-15-26" href="#__codelineno-15-26"></a>       &#39;G     ;##S$$$#######b     @#########p.    &#39;8##p    !$#SSSSS#####b     @##b|
<a id="__codelineno-15-27" name="__codelineno-15-27" href="#__codelineno-15-27"></a>       :G     8$#SSl########b     @###########N     8#b    !$#SSSSSS####b     @##b
<a id="__codelineno-15-28" name="__codelineno-15-28" href="#__codelineno-15-28"></a>       !Sp     &quot;6@S#########b     @############b    &#39;@p    l$##SSS######N     @##b
<a id="__codelineno-15-29" name="__codelineno-15-29" href="#__codelineno-15-29"></a>       GG$p.      ^&quot;T8@#####b     @############N     GC     ^^^^^^^^^^^^^     @##b
<a id="__codelineno-15-30" name="__codelineno-15-30" href="#__codelineno-15-30"></a>       GGGGSSp         &#39;8@##b     @############b     GC                       @#bb
<a id="__codelineno-15-31" name="__codelineno-15-31" href="#__codelineno-15-31"></a>      &#39;GGGGGGGS##Sp       7@#     @############b     $C    ;#############     @#b
<a id="__codelineno-15-32" name="__codelineno-15-32" href="#__codelineno-15-32"></a>      !GGGGGGGGGS$$##N.    l$     @############b    &#39;@p    !@#SSSS$$$###b     @#b
<a id="__codelineno-15-33" name="__codelineno-15-33" href="#__codelineno-15-33"></a>      GGGSGGGGGGSSSS$#N    &#39;$     @###########b     $#b    !$#SSSSS#####b     @#b
<a id="__codelineno-15-34" name="__codelineno-15-34" href="#__codelineno-15-34"></a>      GGGTT8$GSSS#####b    l#     @########b^     ,###b    !$#SSSSS#####b     @#~
<a id="__codelineno-15-35" name="__codelineno-15-35" href="#__codelineno-15-35"></a>     !GGG     &#39;^^^^^      ;##     &#39;&quot;*&quot;^^&#39;       ,#####b    !$#SSSSS#####b     $G
<a id="__codelineno-15-36" name="__codelineno-15-36" href="#__codelineno-15-36"></a>     !GGG.             ,s###b               ,s########~    j@#SSSSS#####b     $G
<a id="__codelineno-15-37" name="__codelineno-15-37" href="#__codelineno-15-37"></a>     !GGG$#SQppppppQ###################################QQQQ##SSSSSS#######QQQ##C
<a id="__codelineno-15-38" name="__codelineno-15-38" href="#__codelineno-15-38"></a>     GGGGGGGGGGGGSS$$$##################################$$SSSSSSSSS########$##b
<a id="__codelineno-15-39" name="__codelineno-15-39" href="#__codelineno-15-39"></a>    oGGGGGGGGGGGSSSl#####################################SlSSSSSSSS###########b
<a id="__codelineno-15-40" name="__codelineno-15-40" href="#__codelineno-15-40"></a>    ^GGGGGGGGGGGSSSl#####################################SlSSSSSSSS##########bb
<a id="__codelineno-15-41" name="__codelineno-15-41" href="#__codelineno-15-41"></a>     ?GGGGGGGGGGSSSl#####################################SlSSSSSSSS##########b
<a id="__codelineno-15-42" name="__codelineno-15-42" href="#__codelineno-15-42"></a>      *GGGGGGGGGSSSl#####################################SlSSSSSSSS#########b
<a id="__codelineno-15-43" name="__codelineno-15-43" href="#__codelineno-15-43"></a>        ?8GGGGGGSSSl#####################################SlSSSSSSSS#######b
<a id="__codelineno-15-44" name="__codelineno-15-44" href="#__codelineno-15-44"></a>          &#39;?GGGGSSSl#####################################SlSSSSSSSS###bb^
<a id="__codelineno-15-45" name="__codelineno-15-45" href="#__codelineno-15-45"></a>              ^&quot;G8$$######################################llSll$GG&quot;*^
<a id="__codelineno-15-46" name="__codelineno-15-46" href="#__codelineno-15-46"></a>                    ^^7T888888888888888#####88888888888TTT&quot;&quot;^^
<a id="__codelineno-15-47" name="__codelineno-15-47" href="#__codelineno-15-47"></a>
<a id="__codelineno-15-48" name="__codelineno-15-48" href="#__codelineno-15-48"></a>Smile, we&#39;re up and running! :)
<a id="__codelineno-15-49" name="__codelineno-15-49" href="#__codelineno-15-49"></a>
<a id="__codelineno-15-50" name="__codelineno-15-50" href="#__codelineno-15-50"></a>  You can access your Smile CDR instance at:
<a id="__codelineno-15-51" name="__codelineno-15-51" href="#__codelineno-15-51"></a>
<a id="__codelineno-15-52" name="__codelineno-15-52" href="#__codelineno-15-52"></a>  https://mydeploymentname.example.com/
<a id="__codelineno-15-53" name="__codelineno-15-53" href="#__codelineno-15-53"></a>
<a id="__codelineno-15-54" name="__codelineno-15-54" href="#__codelineno-15-54"></a>EOT
</code></pre></div>
<h3 id="verify-helm-deployment">Verify Helm Deployment<a class="headerlink" href="#verify-helm-deployment" title="Permanent link">&para;</a></h3>
<p>The Smile CDR Helm Chart provides some configuration feedback after installing. This feedback provides warnings and information about incorrect or deprecated configurations that may need to be updated.</p>
<p>The provided example includes this output as can be seen above. It's vital that you review this output during installs and upgrades so that you can pre-emptively avoid any disruptions due to future configuration schema changes.</p>
<p>If you do not include the above output section, or if you are unable to review your Terraform output, then you can manually check the Helm Chart notes as follows</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a>helm get notes smilecdr
</code></pre></div>
<h3 id="destroy-environment">Destroy Environment<a class="headerlink" href="#destroy-environment" title="Permanent link">&para;</a></h3>
<p>You can destroy this environment and all related resources like so:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a>terraform destroy
</code></pre></div>
<blockquote>
<p><strong>Warning!:</strong> If you have deployed any in-cluster stateful resources, such as a Postgres cluster or Strimzi Kafka cluster, they will also be destroyed using this command. Data will be irreversibly lost unless you have configured backups.</p>
</blockquote>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.sections", "navigation.tabs", "navigation.tabs.sticky", "navigation.indexes", "navigation.expand", "navigation.instant", "navigation.instant.prefetch", "navigation.top"], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.fe8b6f2b.min.js"></script>
      
    
  </body>
</html>